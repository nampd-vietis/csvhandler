<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>CSV Import/Export</title>
</head>
<body>
<h1>CSV Import/Export</h1>

<div>
    <h2>Import CSV File</h2>
    <form id="importForm" method="post" action="#" th:action="@{/api/v1/csv/import/{dataType}(dataType=${importType})}" enctype="multipart/form-data">
        <label for="importType">Select type to import:</label>
        <select name="dataType" id="importType" required onchange="updateImportAction()">
            <option value="book">Book</option>
            <option value="car">Car</option>
            <option value="film">Film</option>
        </select>
        <br><br>
        <label for="importFile">Choose CSV file:</label>
        <input type="file" name="file" id="importFile" required />
        <br><br>
        <button type="submit">Import</button>
    </form>
</div>

<script>
    function updateImportAction() {
        const dataType = document.getElementById("importType").value;
        const form = document.getElementById("importForm");
        form.action = "/api/v1/csv/import/" + dataType; // Cập nhật hành động form với dataType
    }
</script>


<div>
    <h2>Export CSV File</h2>
    <form action="#" th:action="@{/api/v1/csv/export}" method="get">
        <label for="exportType">Select type to export:</label>
        <select name="type" id="exportType" required>
            <option value="book">Book</option>
            <option value="car">Car</option>
            <option value="film">Film</option>
        </select>
        <br><br>
        <button type="submit">Export</button>
    </form>
</div>
</body>
</html>
